# ⚡ 3D 线圈优化（模块划分法）

> 🧲 基于操控点表示的3D线圈路径优化框架，使用毕奥–萨伐尔代理模型和梯度下降优化。
❗❗❗❗❗现在需要把未src中完成的功能实现❗❗❗❗❗

---

## ✨ 核心特性

| 特性 | 说明 |
|:---:|:---|
| 🎯 | **操控点驱动** — 线圈路径以控制点序列为唯一真值 |
| 🧩 | **模块化表示** — VSP 降维与可导离散化 |
| ⚡ | **快速评估** — 毕奥–萨伐尔磁场代理模型 |
| 🔧 | **约束优化** — 避让/端点/无自交/平滑约束下的 GD/Adam 优化 |

---

## 📁 项目结构

```
⚡ Vectors-for-3D-design/
├── 📂 configs/          # ⚙️ 配置文件
├── 📂 input/            # 📥 输入数据
├── 📂 outputs/          # 📤 输出结果
├── 📂 src/
│   ├── 🔒 constraints.py    # 约束条件检测
│   ├── 💾 data.py           # 数据 I/O
│   ├── 📐 geometry.py       # 几何表示与离散化
│   ├── 📊 math_lib.py       # 目标函数与数学工具
│   ├── 🧲 model.py          # 代理模型
│   └── 🚀 optimizer.py      # 优化器
├── 📂 tests/            # 🧪 测试
└── 🎬 main.py           # 主入口
```

---

## 📋 开发进度

| 状态 | 模块 |
|:---:|:---|
| ✅ | 项目骨架 |
| ⬜ | 数据结构与接口定义 |
| ⬜ | 几何模块（操控点 + 重采样 + 离散化） |
| ⬜ | 约束模块（避让/自交/平滑） |
| ⬜ | 代理模型（毕奥–萨伐尔） |
| ⬜ | 指标与优化器 |
| ⬜ | 输出标准化 |

---

## 🚀 快速开始

```bash
python main.py --config configs
```

---

## 💡 设计原则

```
┌─────────────────────────────────────────────────────────┐
   🎬 main.py 只做编排                                     
      具体算法实现在各模块中                                 
├─────────────────────────────────────────────────────────┤
   🤝 接口优先                                           
      先定接口，再填实现，支持并行开发                       
└─────────────────────────────────────────────────────────┘
```

---

<p align="center">
  <b>🔬 Powered by Biot-Savart | 📐 Gradient Descent Optimization</b>
</p>